{
  "logging": {
    "enabled": true,
    "level": "INFO",
    "format": "standard",
    "load_from_file": true,
    "config_file": "./configs/logging_config.json"
  },
  "rag_enabled": true,
  "chunk_size": 500,
  "chunk_overlap": 50,
  "top_k": 3,
  "min_retrieval_score": 0.3,
  "query_expansion_enabled": true,
  "num_expansions": 3,
  "index_path": "/opt/synapse/data/rag_index",
  "docs_path": "/opt/synapse/data/docs",
  "rag_disable_keyword": "disable-rag",
  "embedding_model_path": "~/synapse/models/bge-m3-q8_0.gguf",
  "embedding_model_name": "embedding",
  "embedding_n_ctx": 8194,
  "embedding_n_gpu_layers": 0,
  "embedding_cache_enabled": true,
  "embedding_cache_size": 1000,
  "chat_model_path": "~/models/gemma-3-1b-it-UD-Q4_K_XL.gguf",
  "chat_model_name": "gemma-3-1b-it",
  "chat_n_ctx": 8192,
  "chat_n_gpu_layers": 0,
  "external_chat_api_url": "https://u425-afb3-687d7019.singapore-a.gpuhub.com:8443/v1/chat/completions",
  "external_chat_api_key": "",
  "use_external_chat_model": false,
  "temperature": 0.7,
  "max_tokens": 2048,
  "rag_api_port": 8001,
  "rag_api_host": "0.0.0.0",
  "memory_enabled": true,
  "memory_db_path": "/opt/synapse/data/memory.db",
  "memory_scope": "session",
  "memory_min_confidence": 0.7,
  "memory_max_facts": 10,
  "remote_file_upload_enabled": true,
  "remote_upload_directory": "/tmp/rag-uploads",
  "remote_upload_max_age_seconds": 3600,
  "remote_upload_max_file_size_mb": 50,
  "automatic_learning": {
    "enabled": true,
    "mode": "aggressive",
    "track_tasks": true,
    "track_code_changes": true,
    "track_operations": true,
    "min_episode_confidence": 0.6,
    "episode_deduplication": true
  },
  "universal_hooks": {
    "enabled": true,
    "default_project_id": "synapse",
    "adapters": {
      "opencode": {
        "enabled": true,
        "priority": 1,
        "analyze_after_tools": ["rag.add_fact", "rag.add_episode", "rag.search", "rag.get_context"],
        "min_message_length": 10,
        "skip_patterns": ["^test$", "^hello$"],
        "async_processing": true,
        "extraction_mode": "heuristic"
      },
      "claude_code": {
        "enabled": true,
        "priority": 2,
        "analyze_after_tools": ["rag.add_fact", "rag.add_episode"],
        "session_end_analyze": true,
        "async_processing": true
      },
      "generic_bash": {
        "enabled": true,
        "priority": 3,
        "analyze_after_tools": ["rag.add_fact", "rag.add_episode", "rag.search"],
        "buffer_file": "/tmp/synapse-conversations.json",
        "analyze_at_session_end": false,
        "async_processing": true
      }
    },
    "conversation_analyzer": {
      "extraction_mode": "heuristic",
      "use_llm": false,
      "min_fact_confidence": 0.7,
      "min_episode_confidence": 0.6,
      "deduplicate_facts": true,
      "deduplicate_episodes": true,
      "deduplication_mode": "per_day",
      "deduplication_window_days": 7
    },
    "performance": {
      "async_processing": true,
      "analyze_every_n_messages": 1,
      "timeout_ms": 5000
    }
  },
  "metrics": {
    "enabled": true,
    "collection_interval_seconds": 1,
    "retention_days": 90,
    "database_path": "/opt/synapse/data/metrics.db"
  }
}