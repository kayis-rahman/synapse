[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test*

# Markers for test categorization
markers =
    unit: Fast, isolated unit tests
    integration: Cross-module integration tests
    e2e: End-to-end workflow tests
    slow: Tests taking more than 1 second
    requires_model: Tests requiring actual model files (not mocked)

# Output options
addopts =
    --strict-markers
    --tb=short
    --showlocals
    -ra

# Coverage settings (use pytest --cov to enable)
# These are defaults when coverage is enabled
# addopts =
#     --cov=rag
#     --cov=synapse
#     --cov=mcp_server
#     --cov-report=term-missing
#     --cov-report=html:htmlcov
#     --cov-fail-under=60

# Logging
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Asyncio support (for async tests)
asyncio_mode = auto

# Test execution
# Note: pytest-timeout needs to be installed for timeout support
# timeout = 300  # 5 minute timeout for individual tests
# timeout_method = thread

# Parallel execution (if pytest-xdist is installed)
# addopts = -n auto
